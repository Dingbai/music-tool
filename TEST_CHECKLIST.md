# 🧪 Synth Demo 功能测试清单

## 前置条件
- [ ] 应用成功启动 (http://localhost:5174)
- [ ] 没有控制台错误
- [ ] SheetEditor 组件加载

---

## 1️⃣ 基础功能测试

### 编辑模式切换
- [ ] 点击 "✏️ 编辑ABC记谱" 按钮，进入编辑模式
- [ ] 左右两侧面板正确显示（编辑 | 播放）
- [ ] 点击 "❌ 取消" 返回预览模式

### ABC 代码编辑
- [ ] 在左侧编辑器修改 ABC 代码
- [ ] 语法高亮显示正常
- [ ] 点击 "💾 保存" 保存更改
- [ ] 代码保存后不再为已修改状态

---

## 2️⃣ 乐谱渲染测试

### 乐谱加载
- [ ] 点击 "🔄 重新加载乐谱" 按钮
- [ ] 右侧面板显示 SVG 五线谱
- [ ] 乐谱清晰可见，无扭曲变形

### 响应式布局
- [ ] 在 1024px+ 屏幕宽度：双列布局（编辑|播放）
- [ ] 在 768px 屏幕宽度：切换为单列布局
- [ ] 手机屏幕：内容堆叠，字体缩小

---

## 3️⃣ 音频播放测试

### 播放控制
- [ ] 播放按钮可点击
- [ ] 点击播放，音乐开始播放
- [ ] 进度条显示当前播放位置
- [ ] 暂停按钮可正常暂停
- [ ] 重新开始按钮回到起始位置

### 光标动画
- [ ] 播放时，竖线光标随音乐移动
- [ ] 光标位置准确对应当前播放位置
- [ ] 播放停止时，光标隐藏

### 音符高亮
- [ ] 播放时，当前演奏的音符突出显示
- [ ] 高亮颜色为紫色（#667eea）
- [ ] 播放完成后，高亮移除

### 速度调节
- [ ] 调节 Warp 参数
- [ ] 播放速度随之改变
- [ ] 光标移动速度同步调整

---

## 4️⃣ 交互功能测试

### 音符点击播放
- [ ] 点击五线谱上的任意音符
- [ ] 音符立即发出相应声音
- [ ] 编辑器左侧光标跳转到该音符位置
- [ ] 下方 "📍 点击的音符信息" 显示 MIDI 数据

### 拖拽编辑
- [ ] 在五线谱上拖拽一个音符上下移动
- [ ] 左侧 ABC 代码自动更新
- [ ] 拖拽后的音符高度反映到源码中

### 编辑器光标同步
- [ ] 在左侧编辑器修改光标位置
- [ ] 修改 ABC 代码
- [ ] 右侧乐谱实时更新（通过 Editor 的 modelChanged 回调）

---

## 5️⃣ 信息显示测试

### 节拍信息
- [ ] 播放时显示 "♪ 节拍: X / Y"
- [ ] 节拍数字准确
- [ ] 播放停止时隐藏

### 点击音符信息面板
- [ ] 点击音符后出现面板
- [ ] 显示以下信息：
  - `currentTrackMilliseconds`
  - `currentTrackWholeNotes`
  - `midiPitches`
  - `gracenotes`

### 播放反馈信息面板
- [ ] 播放时显示实时事件数据
- [ ] JSON 格式显示
- [ ] 包含 `left`, `top`, `height` 坐标信息

---

## 6️⃣ 样式和外观测试

### 颜色方案
- [ ] 编辑器边框：紫色（#667eea）
- [ ] 高亮颜色：紫色（#667eea）
- [ ] 按钮样式：一致的 Tailwind 样式

### 动画效果
- [ ] 节拍显示有脉冲动画
- [ ] 光标平滑移动
- [ ] 过渡动画流畅

### 文本和排版
- [ ] 代码编辑器使用等宽字体 (Monaco/Menlo)
- [ ] 提示文本清晰可读
- [ ] JSON 数据格式化正确

---

## 7️⃣ 浏览器兼容性测试

- [ ] Chrome 最新版本
- [ ] Firefox 最新版本
- [ ] Safari (macOS)
- [ ] Edge 最新版本
- [ ] 检查控制台是否有错误警告

---

## 8️⃣ 错误处理测试

### 无效 ABC 代码
- [ ] 输入格式错误的 ABC 代码
- [ ] 点击 "重新加载乐谱"
- [ ] 应用不崩溃，显示错误提示或空白乐谱

### 浏览器不支持音频
- [ ] 在不支持 Web Audio 的环境中（模拟）
- [ ] 显示 "⚠️ 您的浏览器不支持音频播放"
- [ ] 编辑功能仍可正常使用

### 网络错误
- [ ] 加载库文件时出现网络错误（模拟）
- [ ] 应用显示友好的错误消息
- [ ] 用户仍可编辑 ABC 代码

---

## 🎯 完成标记

| 类别 | 测试项 | 通过 |
|-----|--------|------|
| 功能 | 编辑模式切换 | ☐ |
| 功能 | ABC 代码编辑 | ☐ |
| 功能 | 乐谱渲染 | ☐ |
| 功能 | 音频播放 | ☐ |
| 功能 | 音符点击 | ☐ |
| 功能 | 拖拽编辑 | ☐ |
| 交互 | 光标同步 | ☐ |
| 交互 | 信息显示 | ☐ |
| 样式 | 外观布局 | ☐ |
| 兼容性 | 主流浏览器 | ☐ |
| 错误 | 错误处理 | ☐ |

---

## 📝 测试备注

请在下方记录任何问题、建议或额外观察：

```
[在此添加测试备注]
```

---

**测试日期**: _______________
**测试人员**: _______________
**总体评分**: ___ / 10
